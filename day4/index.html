<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Array Cardio üí™ #1 :: JS30 - Day 4 </title>
</head>
<body>
  <p><em>Psst: have a look at the JavaScript Console</em> üíÅ</p>
  <p>M.Bui's note: for some reason I don't see the console.table's output when I get to this page from a hyperlink; it shows ONLY once I refresh the page, after I have already inspected it and opened the console tab.  Maybe someone can advise me on this; I tried to add document.addEventListener("DOMContentLoaded", function(event) {});
    <br /> -thanks!
  </p>
  <script>
  //added this top line since the javascript would not load all the items on first page load without refresh.  this line is equivelant to jquery's document.ready...looking into if this is best practice or not.
  document.addEventListener("DOMContentLoaded", function(event) {
    // Get your shorts on - this is an array workout!
    // ## Array Cardio Day 1

    // Some data we can work with

    const inventors = [
      { first: 'Albert', last: 'Einstein', year: 1879, passed: 1955 }, //
      { first: 'Isaac', last: 'Newton', year: 1643, passed: 1727 }, //
      { first: 'Galileo', last: 'Galilei', year: 1564, passed: 1642 }, //
      { first: 'Marie', last: 'Curie', year: 1867, passed: 1934 }, //
      { first: 'Johannes', last: 'Kepler', year: 1571, passed: 1630 }, //
      { first: 'Nicolaus', last: 'Copernicus', year: 1473, passed: 1543 }, //
      { first: 'Max', last: 'Planck', year: 1858, passed: 1947 }, //
      { first: 'Katherine', last: 'Blodgett', year: 1898, passed: 1979 }, //
      { first: 'Ada', last: 'Lovelace', year: 1815, passed: 1852 }, //
      { first: 'Sarah E.', last: 'Goode', year: 1855, passed: 1905 }, //
      { first: 'Lise', last: 'Meitner', year: 1878, passed: 1968 }, //
      { first: 'Hanna', last: 'Hammarstr√∂m', year: 1829, passed: 1909 } //
    ];

    const somethingelse = [
      { first: 'huh', last: 'wat', year: 1879, passed: 1955 }, //
      { first: 'yea', last: 'nah', year: 1643, passed: 1727 }, //
      { first: 'derp', last: 'ish', year: 1564, passed: 1642 }, //
      { first: 'Marie', last: 'Curie', year: 1867, passed: 1934 }, //
      { first: 'Johannes', last: 'Kepler', year: 1571, passed: 1630 }, //
      { first: 'Nicolaus', last: 'Copernicus', year: 1473, passed: 1543 }, //
      { first: 'Max', last: 'Planck', year: 1858, passed: 1947 }, //
      { first: 'Katherine', last: 'Blodgett', year: 1898, passed: 1979 }, //
      { first: 'Ada', last: 'Lovelace', year: 1815, passed: 1852 }, //
      { first: 'Sarah E.', last: 'Goode', year: 1855, passed: 1905 }, //
      { first: 'Lise', last: 'Meitner', year: 1878, passed: 1968 }, //
      { first: 'Hanna', last: 'Hammarstr√∂m', year: 1829, passed: 1909 } //
    ];

    const people = ['Beck, Glenn', 'Becker, Carl', 'Beckett, Samuel', 'Beddoes, Mick', 'Beecher, Henry', 'Beethoven, Ludwig', 'Begin, Menachem', 'Belloc, Hilaire', 'Bellow, Saul', 'Benchley, Robert', 'Benenson, Peter', 'Ben-Gurion, David', 'Benjamin, Walter', 'Benn, Tony', 'Bennington, Chester', 'Benson, Leana', 'Bent, Silas', 'Bentsen, Lloyd', 'Berger, Ric', 'Bergman, Ingmar', 'Berio, Luciano', 'Berle, Milton', 'Berlin, Irving', 'Berne, Eric', 'Bernhard, Sandra', 'Berra, Yogi', 'Berry, Halle', 'Berry, Wendell', 'Bethea, Erin', 'Bevan, Aneurin', 'Bevel, Ken', 'Biden, Joseph', 'Bierce, Ambrose', 'Biko, Steve', 'Billings, Josh', 'Biondo, Frank', 'Birrell, Augustine', 'Black, Elk', 'Blair, Robert', 'Blair, Tony', 'Blake, William'];

    // Array.prototype.filter()
    // 1. Filter the list of inventors for those who were born in the 1500's


    const fifteen = inventors.filter(function(inventor) {
      if(inventor.year >= 1800 && inventor.year < 1900){
        return true;
      }
    });
    //console.log(fifteen);
    console.log('BORN IN THE 1800s:');
    console.table(fifteen);


    //how filter works is that you pass if a function, and that function is going to loop over every single item in our array


    // Array.prototype.map()
    // 2. Give us an array of the inventors' first and last names

    //factory machine
    //always return the same amount of numbers sent


    // const fullNames = inventors.map(inventor => inventor.first + inventor.last);
    // const fullNames = inventors.map(function(inventor){
    //   return `${inventor.first} ${inventor.last}`;
    // })
    const fullNames = inventors.map(inventor => `${inventor.first} ${inventor.last}`);

    //console.log(fullNames);
    console.log('FULL NAMES:');
    console.table(fullNames);


    // Array.prototype.sort()
    // 3. Sort the inventors by birthdate, oldest to youngest

    const ordered = inventors.sort(function(a, b){
      if (a.year > b.year){
        return 1;
      } else {
        return -1;
      }
    });

    console.log('ORDERED BY YEAR: <br />');
    console.table(ordered);


    const ordered2 = inventors.sort( (a,b) => a.last > b.last ? 1 : -1);

    console.log('ORDERED BY LAST NAME:');
    console.table(ordered2);

    // Array.prototype.reduce()
    // 4. How many years did all the inventors live?

    //allows you to build something

    // var totalYears2 = 0;
    //
    // for (var i=0; i<inventors.length; i++){
    //   console.log(inventors[i].first);
    //   console.log(inventors[i].passed - inventors[i].year);
    //   totalYears2 += (inventors[i].passed - inventors[i].year);
    //
    //   console.log(totalYears2);
    // }




    // seems that the key factor is the correct object calling the reduce method
    const someTotalYears = somethingelse.reduce((something_named_total, couldthisbeanything) =>{
      const age = couldthisbeanything.passed - couldthisbeanything.year;
      console.log(couldthisbeanything.first);
      console.log('age: ' + age);
      console.log('running total: ' + (something_named_total + age));

      //the prototype aka object key is what's most important here
      //the variable names can be completely arbitrary
      return something_named_total + age;
      //the 0 is for the default total to start, without it will return the object name instead of the results expected
    }, 0);

    console.log(someTotalYears);

    const totalYears = inventors.reduce((total, inventor) =>{
      //console.log(total)
      return total + (inventor.passed - inventor.year);
    }, 0);

    console.log('ALL OF THE INVENTORS LIFESPANS AS 1 SUM:');
    console.log(totalYears);



    // 5. Sort the inventors by years lived

    // const oldest = inventors.sort(function(a,b){
    //   const lastGuy = a.passed - a.year;
    //   const nextGuy = b.passed - b.year;
    //   return lastGuy > nextGuy ? -1 : 1;
    // });
    //
    // console.table(oldest);

    const oldest = inventors.sort((a,b) => {
      const lastGuy = a.passed - a.year;
      const nextGuy = b.passed - b.year;
      return lastGuy > nextGuy ? -1 : 1;
    });

    console.table(oldest);



    // 6. create a list of Boulevards in Paris that contain 'de' anywhere in the name
    // https://en.wikipedia.org/wiki/Category:Boulevards_in_Paris

    // const category = document.querySelector('.mw-category');
    // const links = Array.from(category.querySelectorAll('a'));
    // const de = links
    //             .map(link => link.textContent)
    //             .filter(streetName => streetName.includes('de '));



    // 7. sort Exercise
    // Sort the people alphabetically by last name

    const alpha = people.sort((lastOne, nextOne) => {
        // const parts = lastOne.split(', ');
        //console.log(parts);

        const [aLast, aFirst] = lastOne.split(', ');
        const [bLast, bFirst] = nextOne.split(', ');
        //console.log(last, first);
        return aLast > bLast ? 1 : -1;

    })
    console.log(alpha);

    // 8. Reduce Exercise
    // Sum up the instances of each of these

    //one of the most flexible methods we have in an array

    const data = ['car', 'car', 'truck', 'truck', 'bike', 'walk', 'car', 'van', 'bike', 'walk', 'car', 'van', 'car', 'truck' ];

    const transportation = data.reduce(function(obj, item){
      //console.log(item);
      if(!obj[item]){
        obj[item] = 0;
      }
      obj[item]++;
      return obj;
    }, {}
      // car:0,
      // walk: 0,
      // truck: 0
    );
    console.log(transportation);
});
  </script>
</body>
</html>
